{% extends '@App/menu.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('bundles/siplomedia/css/blueimp-gallery.min.css')}}">
    <link rel="stylesheet" href="{{ asset('bundles/siplomedia/css/blueimp-gallery.css')}}">
    {{ parent() }}
{% endblock %}

{% block media_content %}
    <div style="background:rgba(0,0,0,.9)">
    <div style="margin-top: 80px">
        <h1>{{ country }}</h1>
    </div>
    <div>
        <div id="links">
            {% set count=1 %}
            {% for Video in videos if count<3%}
                {% set count = loop.index %}
                <div>
                  <a
                    href="{{ vich_uploader_asset(Video, 'videoFile') }}"
                    title=""
                    {#{{ Video.getVideoTitle() }}#}
                    type="video/webm"
                    data-poster="{{ vich_uploader_asset(Video, 'thumbnail') }}"
                    data-sources='[{"href": "{{ vich_uploader_asset(Video, 'videoFile') }}", "type": "video/webm"}]'
                    >

                  </a>
                </div>
            {% endfor %}
        </div>

    </div>

    <!-- The Gallery as inline carousel, can be positioned anywhere on the page -->
    <div style="height:450px;width: 800px;padding-top: 0px;padding-bottom:0px;margin-left: 20%;margin-right: 8%;margin-bottom:0" id="blueimp-gallery-carousel" class="blueimp-gallery blueimp-gallery-carousel blueimp-gallery-controls">
        <div style="height:inherit" class="slides"></div>
        <h3 class="title"></h3>
        <a class="prev">‹</a>
        <a class="next">›</a>
        <a class="play-pause"></a>
        <ol class="indicator"></ol>
    </div>

    {#video thumbnails#}
        <div style="background: rgba(55,55,55,.4);height: 50px;width: 200px">
            <h1>All Videos</h1>
        </div>
    {% set count=0 %}
    {%  for video in videos %}
        {#create a new row for 3 categories#}
        {% if count is divisibleby(3) %}
            {% if count>0 %}
                </div>
            {% endif %}
            <div class="row" style="padding-left:7%;padding-right:5%;padding-bottom: 2%">
        {% endif %}
        {#show category#}
        <div class="col-sm-3 col-lg-4">
            <a >
                <div id="container" onclick="javascript:play()">

                    <img id="image" src="{{ vich_uploader_asset(video, 'thumbnail') }}" alt="" />
                    {#<div id="inner-container">#}
                        {#<p id="text">#}
                            {#&#123;&#35;{{  }}&#35;&#125;#}
                        {#</p>#}
                    {#</div>#}
                    {{ count }}
                    <div id="{{ count }}">
                    <a
                            href="{{ vich_uploader_asset(video, 'videoFile') }}"
                            title=""
                            {#{{ Video.getVideoTitle() }}#}
                            type="video/webm"
                            data-poster="{{ vich_uploader_asset(video, 'thumbnail') }}"
                            data-sources='[{"href": "{{ vich_uploader_asset(video, 'videoFile') }}", "type": "video/webm"}]'
                            >

                    </a>
                    </div>
                </div>
            </a>
        </div>
        {% set count=count+1 %}
    {% endfor %}
    </div>
{% endblock media_content %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/siplomedia/js/blueimp-gallery.min.js') }}"></script>
    <script>
        blueimp.Gallery(
                document.getElementById('links').getElementsByTagName('a'),
                {
                    container: '#blueimp-gallery-carousel',
                    carousel: true
                }
        );
        function play() {
            blueimp.Gallery(
                    document.getElementById('1').getElementsByTagName('a'),
                    {
                        container: '#blueimp-gallery-carousel',
                        carousel: true
                    }
            );
        }

    </script>
{% endblock javascripts %}